type Order {
  # Decided chefId and customerId won't resolve to user info
  chefId: ID!
  customerId: ID!
  cart: [Dish!]!
  status: OrderStatus!
  date: String!
  cashTotal: Int!
  orderInstructions: String!
}

 # OrderStatus codes/messages
  # 0: "Pending"
  # 1: "Accepted"
  # 2: "Completed"
  # 3: "Canceled"
  # 4: "Reviewed"

type OrderStatus {
  statusCode: Int!
  statusMessage: String!
}

input OrderedDish {
  cuisineType: String!
  name: String!
  description: String!
  dishImages: [String]
  # chefId in OrderedDish doesn't resolve to Chef Profile
  chefId: ID!
  allergies: [String]
  cashDonation: Int!
  isActive: Boolean!
  # quantity is remaining number of a dish a chef has in their inventory
  quantity: Int!
}

input OrderStatusInput {
  statusCode: Int!
  statusMessage: String!
}

input IncomingOrder {
  chefId: ID!
  customerId: ID!
  cart: [OrderedDish!]!
  status: OrderStatusInput!
  date: String!
  cashTotal: Int!  
  orderInstructions: String!
}

extend type Query {
  # callerType of 'Customer' or 'Chef' determines whether to use callerID to query chefId or customerId in DB schema
  getOrdersByStatus(callerID: ID!, callerType: String!, statusCode: Int!): [Order]! 
}

extend type Mutation {
  # status corresponds to orderInstructions in DB schema
  updateOrder(orderID: String!, status: String!): Order!
  postNewOrder(input: IncomingOrder!): [Order]!
}


 # OrderStatus codes/messages
  # 0: "Pending"
  # 1: "Accepted"
  # 2: "Completed"
  # 3: "Canceled"
  # 4: "Reviewed"

# Todo: Implement Socket.io
# socket.io: alertChef
# socket.io: alertCustomer
